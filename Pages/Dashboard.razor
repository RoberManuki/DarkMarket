@page "/dashboard"

@attribute [Authorize]

@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Identity

@inject AuthenticationStateProvider AuthenticationStateProvider
@inject NavigationManager NavigationManager

<h2>Bem-vindo, @userName!</h2>
<!-- Conteúdo da dashboard -->
<div class="dashboard-content">
    <h3>Conteúdo da Dashboard</h3>
    <p>Esta é a área protegida da sua aplicação.</p>
    <!-- Adicione mais conteúdo aqui -->
</div>

@code {
    private string userName = "Usuário";

    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        var user = authState.User;
        userName = user.Identity?.Name ?? "Usuário";
    }
}